buildscript {
	repositories {
		mavenLocal()
		maven {
      url "https://plugins.gradle.org/m2/"
    }
		maven {
			url "https://artifacts.fizzpod.com/public/mvn/"
		}
	}
	dependencies {
		classpath ('com.fizzpod:gradle-plugin-opinion:11.4.0') {
			exclude group: 'com.fizzpod', module: 'gradle-layout-plugin'
		}
	}
}

apply plugin: 'com.fizzpod.pater-build'
//apply plugin: 'java'
apply from: 'buildSrc/build.gradle'

sourceSets {
    main {
        java {
            srcDir 'buildSrc/src/main/java'
        }
        resources {
            srcDir 'buildSrc/src/main/resources'
        }
		groovy {
		    srcDir 'buildSrc/src/main/groovy'
		}
	}
	test {
        java {
            srcDir 'buildSrc/src/test/java'
        }
        resources {
            srcDir 'buildSrc/src/test/resources'
        }
		groovy {
		    srcDir 'buildSrc/src/test/groovy'
		}
	}
}

dependencies {
	api gradleApi()
	api localGroovy()
}

pluginBundle {

	description = 'Gradle plugin providing a configuration mechanism to create standardised layouts.'
  tags = ['gradle', 'plugin', 'layout', 'template']

  plugins {

    plugin {
      id = 'com.fizzpod.layout'
      displayName = 'Gradle Layout Plugin'
    }
  }
}
