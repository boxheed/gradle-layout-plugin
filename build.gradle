buildscript {
	repositories {
		mavenLocal()
		jcenter()
		maven {
      url "https://plugins.gradle.org/m2/"
    }
		maven {
			url "https://dl.bintray.com/boxhead/maven/"
		}
	}
	dependencies {
		classpath ('com.fizzpod:gradle-plugin-opinion:2.0.1') {
			//TODO need to add this back in but it means moving the source.
			//See the gitignore plugin
			//exclude group: 'com.fizzpod', module: 'gradle-layout-plugin'
		}
	}
}

apply plugin: 'com.fizzpod.pater-build'


repositories {
	mavenLocal()
	jcenter()
}


dependencies {
	compile gradleApi()
	compile localGroovy()
  //testCompile 'org.spockframework:spock-core:1.0-groovy-2.3'
	testCompile('com.netflix.nebula:nebula-test:2.2.+') {
    exclude group: 'org.codehaus.groovy'
  }
}

bintray {
	dryRun = false
	publish = true
	pkg {
		labels = ['gradle', 'plugin', 'git', 'build', 'gitignore']
	}
}

pluginBundle {

  description = 'Gradle plugin providing a way of configuring default gitignore values.'
  tags = ['gradle', 'plugin', 'git', 'build', 'gitignore']

  plugins {

    plugin {
      id = 'com.fizzpod.gitignore'
      displayName = 'Gradle Gitignore plugin'
    }
  }
}
